"use strict";function ln(t){return limitedEval("log("+t+")/log(e)")}function degrees(t){return limitedEval(t+"deg")}function lev(t){return limitedEval(t+"!")}function calculator(t){if(console.log("Calculating: "+t),"INVALID"==t)return"INVALID";t=t.replace(/π/g,"pi");try{if(""==t)return"";var e=limitedEval(t);if("NaN"==e)throw"Error!";return(e+"").length>=17?e.toPrecision(15)+"":e+""}catch(t){return alert("What you typed in is not a valid formula, please try again"),"INVALID"}}function clearInfo(){2*$("#info").height()+600>document.body.clientHeight?$("#info").hasClass("animeIn")&&$("#info").removeClass("animeIn").addClass("animeOut"):$("#info").hasClass("animeOut")&&$("#info").removeClass("animeOut").addClass("animeIn")}math.config({number:"BigNumber"});var limitedEval=math.eval;math.import({ln:ln,degrees:degrees,lev:lev}),math.import({import:function(){throw new Error("Function import is disabled")},createUnit:function(){throw new Error("Function createUnit is disabled")},eval:function(){throw new Error("Function eval is disabled")},parse:function(){throw new Error("Function parse is disabled")},simplify:function(){throw new Error("Function simplify is disabled")},derivative:function(){throw new Error("Function derivative is disabled")}},{override:!0}),$(document).ready(function(){function t(){i=0}function e(){for(;i>0;--i)l.textContent+=")"}function n(t){++i,r?l.textContent=t+"("+l.textContent:l.textContent+=t+"("}function a(t){l.textContent+=t}function o(t){$("#equation").removeClass("animation").removeClass("s0").addClass("s1"),$("#result").removeClass("animation").removeClass("s1").addClass("s0"),void 0!=t&&setTimeout(t,50)}clearInfo(),$(window).resize(clearInfo);var i=0,s=!1,r=!1,l=document.getElementById("equation"),c=document.getElementById("result");$("#result").addClass("s0").addClass("animation"),$("#equation").addClass("s1").addClass("animation");var d=function(){$("#equation").removeClass("s1").addClass("animation").addClass("s0"),$("#result").removeClass("s0").addClass("animation").addClass("s1")};$(".button").click(function(){if(o(void 0),isNaN(this.textContent))switch(s&&("INVALID"==c.textContent||"Del"==this.textContent||-1!=c.textContent.indexOf("Infinity")?l.textContent="":l.textContent=c.textContent,s=!1,r=!0),this.textContent){case"---":break;case"CE":l.textContent="",t(),r=!1;break;case"(":++i,l.textContent+="(",r=!1;break;case")":i>0&&(--i,l.textContent+=")");break;case"Del":""!=l.textContent&&("("==l.textContent.charAt(l.textContent.length-1)&&--i,l.textContent=l.textContent.substr(0,l.textContent.length-1));break;case"n!":n("lev");break;case"deg":n("degrees");break;case"sin":case"cos":case"tan":case"asin":case"acos":case"atan":case"ln":case"log":n(this.textContent);break;case"x^y":a("^"),r=!1;break;case"π":r&&(l.textContent=""),l.textContent+="π",r=!1;break;case"e":r&&(l.textContent=""),l.textContent+="e",r=!1;break;case"=":e(),t(),c.textContent=calculator(l.textContent),o(d),s=!0;break;case".":r&&(l.textContent=""),a(this.textContent),r=!1;break;default:a(this.textContent),r=!1}else s&&(l.textContent="",s=!1),r=!1,l.textContent+=this.textContent})});
//# sourceMappingURL=calculator.js.map
